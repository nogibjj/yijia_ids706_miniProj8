# yijia_ids706_miniProj8

## Overview
This project provides both Rust and Python implementations of a tool for calculating statistical measures (mean and median) on large datasets.

## CI/CD Badge
[![Python CI](https://github.com/nogibjj/yijia_ids706_miniProj8/actions/workflows/python_ci.yml/badge.svg)](https://github.com/nogibjj/yijia_ids706_miniProj8/actions/workflows/python_ci.yml)

[![Rust CI](https://github.com/nogibjj/yijia_ids706_miniProj8/actions/workflows/rust_ci.yml/badge.svg)](https://github.com/nogibjj/yijia_ids706_miniProj8/actions/workflows/rust_ci.yml)

## File Structure

- **`.devcontainer/`**: Contains the development container configuration (`devcontainer.json` and a Dockerfile) to ensure a consistent development environment.
- **`.github/workflows/`**: GitHub Actions CI/CD pipelines (python_ci.yml and rust_ci.yml) for Rust and Python implementations.
- **`Makefile`**: Contains commands to build, format, lint, test, and measure project performance.
- **`src/`**: Contains the source code for the Rust version (`lib.rs`) and Python version (`stats.py`).
- **`tests/`**: Contains both functional and performance tests for Rust and Python versions.
- **`python_performance.md` and `rust_performance.md`**: Auto-generated performance reports for Python and Rust versions.

## Installation

### 1. Prerequisites

#### Option 1: Local Installation with Rust and Python
- **Rust**: Ensure Rust and Cargo are installed.
- **Python**: Install Python and the required dependencies from `requirements.txt`.


#### Option 2: Download Prebuilt Binary (No Rust Installation Required)
Download the prebuilt binary from the GitHub Actions Artifacts section, and run it in a Linux environment (e.g., GitHub Codespaces, a Linux VM, or any Linux machine).

### Running the Binary
1. Go to the **Actions** tab on GitHub and download the prebuilt binary.
2. Transfer the binary to a Linux environment (e.g., GitHub Codespaces, Linux VM, or any Linux machine).
3. Run the binary:
    ```sh
    ./yijia_ids706_mini_proj8
    ```
   This will prompt you to enter a list of numbers and output the calculated mean and median.

## Running Locally with Rust

1. Clone the Repository
```sh
git clone git@github.com:nogibjj/yijia_ids706_miniProj8.git
cd yijia_ids706_miniProj8
```

2. (Optional): Open the repository in Visual Studio Code and reopen it in a container using .devcontainer configuration files.

3. Build the project:
```sh
make build 
```

4. Run the tool:
```sh
make run 
```
The tool will prompt you to enter a list of numbers (separated by spaces) and will return the mean and median of those numbers.



## Available Commands

### Rust Commands
```sh
make format-rust          # Formats Rust files using `cargo fmt`.
make lint-rust            # Lints Rust files using `cargo clippy`.
make test-rust            # Runs tests using `cargo test`.
make build-rust           # Builds the project in release mode using `cargo build --release`.
make run-rust             # Runs the Rust version of the tool.
make perf-test-rust       # Runs Rust performance tests and logs results.
```

### Python Commands
```sh
make install-python       # Installs Python dependencies.
make format-python        # Formats Python files using `black`.
make lint-python          # Lints Python files using `ruff`.
make test-python          # Runs Python tests with coverage reporting.
make perf-test-python     # Runs Python performance tests.
```


## Performance Analysis

Performance comparisons between the Rust and Python implementations are automatically logged in `rust_performance.md` and `python_performance.md`. These can be generated by running:

```sh
make perf-test-python  # For Python performance report
make perf-test-rust    # For Rust performance report
```

**Python Performance Report:**
    - Mean Calculation: Time taken 0.052973 seconds, Memory consumed: 59.67 MB.
    - Median Calculation: Time taken 2.592862 seconds, Memory consumed: 131.28 MB.

**Rust Performance Report:**
    - Mean Calculation: Time taken 17.665542 ms, Memory consumed: 0 KB.
    - Median Calculation: Time taken 10.801875 ms, Memory consumed: 0 KB.

### Analysis
The performance reports show that the Rust implementation is significantly faster and more memory-efficient compared to the Python version, especially on large datasets. Rustâ€™s low-level memory management and its compiled nature give it an advantage in both execution time and memory usage, making it highly suitable for high-performance applications.

## CI/CD Pipeline
This project uses GitHub Actions for automated testing and deployment, with separate workflows for Rust and Python. 
The Rust CI workflow builds the project in release mode, creates an artifact of the binary, checks code formatting, lints the code, and runs unit tests. 
The Python CI workflow installs Python dependencies, formats the code, lints for code quality, and runs unit tests with coverage to ensure code reliability.
